/*
作者：   Alt+ 
 时间： 2016-07-06 15:41:29 PM 
*/
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery||window.Zepto)}(function(a,b){function c(){}function d(a,b){var c;return c=b._$container==m?("innerHeight"in l?l.innerHeight:m.height())+m.scrollTop():b._$container.offset().top+b._$container.height(),c<=a.offset().top-b.threshold}function e(b,c){var d;return d=c._$container==m?m.width()+(a.fn.scrollLeft?m.scrollLeft():l.pageXOffset):c._$container.offset().left+c._$container.width(),d<=b.offset().left-c.threshold}function f(a,b){var c;return c=b._$container==m?m.scrollTop():b._$container.offset().top,c>=a.offset().top+b.threshold+a.height()}function g(b,c){var d;return d=c._$container==m?a.fn.scrollLeft?m.scrollLeft():l.pageXOffset:c._$container.offset().left,d>=b.offset().left+c.threshold+b.width()}function h(a,b){var c=0;a.each(function(h,i){function j(){k.trigger("_lazyload_appear"),c=0}var k=a.eq(h);if(!(k.width()<=0&&k.height()<=0||"none"===k.css("display")))if(b.vertical_only)if(f(k,b));else if(d(k,b)){if(++c>b.failure_limit)return!1}else j();else if(f(k,b)||g(k,b));else if(d(k,b)||e(k,b)){if(++c>b.failure_limit)return!1}else j()})}function i(a){return a.filter(function(b,c){return!a.eq(b)._lazyload_loadStarted})}function j(a,b){function c(){g=0,h=+new Date,f=a.apply(d,e),d=null,e=null}var d,e,f,g,h=0;return function(){d=this,e=arguments;var a=new Date-h;return g||(a>=b?c():g=setTimeout(c,b-a)),f}}var k,l=window,m=a(l),n={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:l,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:c,load:c,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:c,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};k=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace("[object ","").replace("]","")}}(),a.fn.hasOwnProperty("lazyload")||(a.fn.lazyload=function(b){var d,e,f,g=this;return a.isPlainObject(b)||(b={}),a.each(n,function(c,d){-1!=a.inArray(c,["threshold","failure_limit","check_appear_throttle_time"])?"String"==k(b[c])?b[c]=parseInt(b[c],10):b[c]=d:"container"==c?(b.hasOwnProperty(c)?b[c]==l||b[c]==document?b._$container=m:b._$container=a(b[c]):b._$container=m,delete b.container):!n.hasOwnProperty(c)||b.hasOwnProperty(c)&&k(b[c])==k(n[c])||(b[c]=d)}),d="scroll"==b.event,f=0==b.check_appear_throttle_time?h:j(h,b.check_appear_throttle_time),e=d||"scrollstart"==b.event||"scrollstop"==b.event,g.each(function(d,f){var h=this,j=g.eq(d),k=j.attr("src"),l=j.attr("data-"+b.data_attribute),m=b.url_rewriter_fn==c?l:b.url_rewriter_fn.call(h,j,l),n=j.attr("data-"+b.data_srcset_attribute),o=j.is("img");return 1==j._lazyload_loadStarted||k==m?(j._lazyload_loadStarted=!0,void(g=i(g))):(j._lazyload_loadStarted=!1,o&&!k&&j.one("error",function(){j.attr("src",b.placeholder_real_img)}).attr("src",b.placeholder_data_img),j.one("_lazyload_appear",function(){function d(){e&&j.hide(),o?(n&&j.attr("srcset",n),m&&j.attr("src",m)):j.css("background-image",'url("'+m+'")'),e&&j[b.effect].apply(j,f?b.effect_params:[]),g=i(g)}var e,f=a.isArray(b.effect_params);j._lazyload_loadStarted||(e="show"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||f&&0==b.effect_params.length),b.appear!=c&&b.appear.call(h,j,g.length,b),j._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=c&&j.one("load",function(){b.load.call(h,j,g.length,b)}),d()):a("<img />").one("load",function(){d(),b.load!=c&&b.load.call(h,j,g.length,b)}).attr("src",m))}),void(e||j.on(b.event,function(){j._lazyload_loadStarted||j.trigger("_lazyload_appear")})))}),e&&b._$container.on(b.event,function(){f(g,b)}),m.on("resize load",function(){f(g,b)}),a(function(){f(g,b)}),this})});
/*出品单位：深圳市思迪信息技术股份有限公司-前端Html5开发小组*/